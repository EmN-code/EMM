#include <string.h>\n#include "net/sock/udp.h"\n#include "gcoap.h"\n\n#define COAP_SERVER_IP "47.102.103.1"\n#define COAP_SERVER_PORT 5683\n#define COAP_URI_PATH "/coap/test"\n\nuint8_t buf[CONFIG_GCOAP_PDU_BUF_SIZE];  // Ensure this buffer is defined once\n\nint main(void)\n{\n    // Initialize buffer\n    size_t len = gcoap_req_init(&pdu, &buf[0], CONFIG_GCOAP_PDU_BUF_SIZE, COAP_METHOD_POST, COAP_URI_PATH);\n\n    // Prepare payload\n    const char *PAYLOAD = "Hello, COAP Cloud";\n    memcpy(pdu.payload, PAYLOAD, strlen(PAYLOAD));\n    len += strlen(PAYLOAD);\n\n    // Setup remote endpoint\n    sock_udp_ep_t remote = { .family = AF_INET, .port = COAP_SERVER_PORT };\n    inet_pton(AF_INET, COAP_SERVER_IP, &remote.addr.ipv4);\n\n    // Send CoAP request\n    gcoap_req_send(buf, len, &remote, _resp_handler, NULL, GCOAP_SOCKET_TYPE_UDP);\n\n    return 0;\n}\n\nstatic void _resp_handler(const gcoap_request_memo_t *memo, coap_pkt_t *pdu, const sock_udp_ep_t *remote)\n{\n    // Handle response\n    if (pdu->hdr->code == COAP_CODE_205) {\n        puts("Response received successfully.");\n    } else {\n        puts("Response error.");\n    }\n}