// FSM
digraph {
	INIT [label=INIT]
	INIT -> THREAD_CREATE [label=QUEUE_INIT_OK]
	QUEUE_INIT [label=QUEUE_INIT]
	QUEUE_INIT -> BROKER_CONNECT [label=THREAD_CREATE_OK]
	QUEUE_INIT -> ERROR [label=THREAD_CREATE_FAIL]
	THREAD_CREATE [label=THREAD_CREATE]
	THREAD_CREATE -> SUBSCRIBE [label=BROKER_CONNECT_OK]
	THREAD_CREATE -> ERROR [label=BROKER_CONNECT_FAIL]
	BROKER_CONNECT [label=BROKER_CONNECT]
	BROKER_CONNECT -> PUBLISH_LOOP [label=SUBSCRIBE_OK]
	BROKER_CONNECT -> ERROR [label=SUBSCRIBE_FAIL]
	SUBSCRIBE [label=SUBSCRIBE]
	SUBSCRIBE -> PUBLISH_LOOP [label=PUBLISH_OK]
	SUBSCRIBE -> ERROR [label=PUBLISH_FAIL]
	PUBLISH_LOOP [label=PUBLISH_LOOP]
	PUBLISH_LOOP -> PUBLISH_LOOP [label=PUBLISH_OK]
	PUBLISH_LOOP -> ERROR [label=PUBLISH_FAIL]
	PUBLISH_LOOP -> END [label=DISCONNECT_OK]
	ERROR [label=ERROR]
	ERROR -> BROKER_CONNECT [label=RETRY_CONNECT]
	ERROR -> SUBSCRIBE [label=RETRY_SUBSCRIBE]
	ERROR -> PUBLISH_LOOP [label=RETRY_PUBLISH]
	ERROR -> END [label=HALT]
	DISCONNECT [label=DISCONNECT]
	DISCONNECT -> END [label=DISCONNECT_OK]
	DISCONNECT -> ERROR [label=DISCONNECT_FAIL]
	END [label=END]
}
