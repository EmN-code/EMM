// FSM
digraph {
	START [label=START]
	START -> IRQ_TEST_INIT [label=PROGRAM_START]
	IRQ_TEST_INIT [label=IRQ_TEST_INIT]
	IRQ_TEST_INIT -> IRQ_TEST_SUCCESS [label="(state_a != 0) && (state_b == 0) && (state_c != 0)"]
	IRQ_TEST_INIT -> IRQ_TEST_FAILURE [label=else]
	IRQ_TEST_SUCCESS [label=IRQ_TEST_SUCCESS]
	IRQ_TEST_SUCCESS -> TIMER_SET [label=TIMER_INITIATE]
	IRQ_TEST_FAILURE [label=IRQ_TEST_FAILURE]
	TIMER_SET [label=TIMER_SET]
	TIMER_SET -> ATOMIC_OPERATION [label=TIMER_SET_SUCCESS]
	TIMER_SET -> FINAL_FAILURE [label=else]
	ATOMIC_OPERATION [label=ATOMIC_OPERATION]
	ATOMIC_OPERATION -> DELAY [label=ATOMIC_STORE]
	DELAY [label=DELAY]
	DELAY -> CHECK_ATOMIC_CONDITION [label=DELAY_COMPLETE]
	CHECK_ATOMIC_CONDITION [label=CHECK_ATOMIC_CONDITION]
	CHECK_ATOMIC_CONDITION -> FINAL_SUCCESS [label="(atomic_load(&a) == atomic_load(&a_during_isr)) && (atomic_load(&b) != atomic_load(&b_during_isr))"]
	CHECK_ATOMIC_CONDITION -> FINAL_FAILURE [label=else]
	FINAL_SUCCESS [label=FINAL_SUCCESS]
	FINAL_FAILURE [label=FINAL_FAILURE]
}
